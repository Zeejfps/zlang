
struct Allocator {
    impl: *
    alloc:  func(impl: *, size: u32) -> *;
    resize: func(impl: *, start: *, old_size: u32, new_size: u32) -> *;
    free:   func(impl: *, start: *, size: u32);
}

func alloc<T>(allocator: Allocator*) -> T* {
    return allocator.alloc(allocator.data)
}

func malloc<T>(allocator: Allocator*, count: u32) -> T* {
    return allocator.malloc(allocator.data, count)
}

func free<T>(allocator: Allocator*, item: T*) {
    return allocator.free(allocator.data)
}